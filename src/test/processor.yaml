jdbc:
  url: jdbc:clickhouse://localhost:8124/default
  username: default
  password: ""
  driver:
    file: /home/xboshy/Projects/sibs/jdbc-etl/target/clickhouse-jdbc-0.2.4-jar-with-dependencies.jar
    class: ru.yandex.clickhouse.ClickHouseDriver
    properties:
      jdbc.custom.connection.properties: oracle.jdbc.fanEnabled=false
      socket_timeout: 2147483647

init-sql:
  - drop table if exists db2.db2_connection
  - |-
    CREATE TABLE db2.db2_connection (
      mon_instance String,
      mon_dt DateTime,
      mon_delta Int64,
      application_name String,
      client_wrkstnname String,
      client_applname String,
      client_protocol String,
      system_auth_id String,
      session_auth_id String,
      client_hostname String,
      client_ipaddr String,
      is_system_appl String,
      execution_id String,
      connection_start_time String,
      application_handle String,
      application_id String,
      client_port_number String,
      lock_timeout_val Int64,
      num_locks_waiting Int64,
      num_assoc_agents Int64,
      associated_agents_top Int64,
      active_hash_grpbys Int64,
      active_hash_joins Int64,
      active_olap_funcs Int64,
      active_peas Int64,
      active_peds Int64,
      active_sort_consumers Int64,
      active_sorts Int64,
      sort_heap_allocated Int64,
      sort_shrheap_allocated Int64,
      act_aborted_total Int64,
      act_completed_total Int64,
      act_rejected_total Int64,
      agent_wait_time Int64,
      agent_waits_total Int64,
      pool_data_l_reads Int64,
      pool_index_l_reads Int64,
      pool_temp_data_l_reads Int64,
      pool_temp_index_l_reads Int64,
      pool_temp_xda_l_reads Int64,
      pool_xda_l_reads Int64,
      pool_data_p_reads Int64,
      pool_index_p_reads Int64,
      pool_temp_data_p_reads Int64,
      pool_temp_index_p_reads Int64,
      pool_temp_xda_p_reads Int64,
      pool_xda_p_reads Int64,
      pool_data_writes Int64,
      pool_index_writes Int64,
      pool_xda_writes Int64,
      pool_read_time Int64,
      pool_write_time Int64,
      client_idle_wait_time Int64,
      deadlocks Int64,
      direct_reads Int64,
      direct_read_time Int64,
      direct_writes Int64,
      direct_write_time Int64,
      direct_read_reqs Int64,
      direct_write_reqs Int64,
      fcm_recv_volume Int64,
      fcm_recvs_total Int64,
      fcm_send_volume Int64,
      fcm_sends_total Int64,
      fcm_recv_wait_time Int64,
      fcm_send_wait_time Int64,
      ipc_recv_volume Int64,
      ipc_recv_wait_time Int64,
      ipc_recvs_total Int64,
      ipc_send_volume Int64,
      ipc_send_wait_time Int64,
      ipc_sends_total Int64,
      lock_escals Int64,
      lock_timeouts Int64,
      lock_wait_time Int64,
      lock_waits Int64,
      log_buffer_wait_time Int64,
      num_log_buffer_full Int64,
      log_disk_wait_time Int64,
      log_disk_waits_total Int64,
      num_locks_held Int64,
      rqsts_completed_total Int64,
      rows_modified Int64,
      rows_read Int64,
      rows_returned Int64,
      tcpip_recv_volume Int64,
      tcpip_send_volume Int64,
      tcpip_recv_wait_time Int64,
      tcpip_recvs_total Int64,
      tcpip_send_wait_time Int64,
      tcpip_sends_total Int64,
      total_app_rqst_time Int64,
      total_rqst_time Int64,
      wlm_queue_time_total Int64,
      wlm_queue_assignments_total Int64,
      total_cpu_time Int64,
      total_wait_time Int64,
      app_rqsts_completed_total Int64,
      total_section_sort_time Int64,
      total_section_sort_proc_time Int64,
      total_section_sorts Int64,
      total_sorts Int64,
      post_threshold_sorts Int64,
      post_shrthreshold_sorts Int64,
      sort_overflows Int64,
      total_compile_time Int64,
      total_compile_proc_time Int64,
      total_compilations Int64,
      total_implicit_compile_time Int64,
      total_implicit_compile_proc_time Int64,
      total_implicit_compilations Int64,
      total_section_time Int64,
      total_section_proc_time Int64,
      total_app_section_executions Int64,
      total_act_time Int64,
      total_act_wait_time Int64,
      act_rqsts_total Int64,
      total_routine_time Int64,
      total_routine_invocations Int64,
      total_commit_time Int64,
      total_commit_proc_time Int64,
      total_app_commits Int64,
      int_commits Int64,
      total_rollback_time Int64,
      total_rollback_proc_time Int64,
      total_app_rollbacks Int64,
      int_rollbacks Int64,
      total_runstats_time Int64,
      total_runstats_proc_time Int64,
      total_runstats Int64,
      total_reorg_time Int64,
      total_reorg_proc_time Int64,
      total_reorgs Int64,
      total_load_time Int64,
      total_load_proc_time Int64,
      total_loads Int64,
      cat_cache_inserts Int64,
      cat_cache_lookups Int64,
      pkg_cache_inserts Int64,
      pkg_cache_lookups Int64,
      thresh_violations Int64,
      num_lw_thresh_exceeded Int64,
      lock_waits_global Int64,
      lock_wait_time_global Int64,
      lock_timeouts_global Int64,
      lock_escals_maxlocks Int64,
      lock_escals_locklist Int64,
      reclaim_wait_time Int64,
      spacemappage_reclaim_wait_time Int64,
      cf_waits Int64,
      cf_wait_time Int64,
      audit_events_total Int64,
      audit_file_writes_total Int64,
      audit_file_write_wait_time Int64,
      audit_subsystem_waits_total Int64,
      audit_subsystem_wait_time Int64,
      diaglog_writes_total Int64,
      diaglog_write_wait_time Int64,
      fcm_message_recvs_total Int64,
      fcm_message_recv_volume Int64,
      fcm_message_recv_wait_time Int64,
      fcm_message_sends_total Int64,
      fcm_message_send_volume Int64,
      fcm_message_send_wait_time Int64,
      fcm_tq_recvs_total Int64,
      fcm_tq_recv_volume Int64,
      fcm_tq_recv_wait_time Int64,
      fcm_tq_sends_total Int64,
      fcm_tq_send_volume Int64,
      fcm_tq_send_wait_time Int64,
      total_routine_user_code_proc_time Int64,
      total_routine_user_code_time Int64,
      tq_tot_send_spills Int64,
      evmon_wait_time Int64,
      evmon_waits_total Int64,
      total_extended_latch_wait_time Int64,
      total_extended_latch_waits Int64,
      total_stats_fabrication_time Int64,
      total_stats_fabrication_proc_time Int64,
      total_stats_fabrications Int64,
      total_sync_runstats_time Int64,
      total_sync_runstats_proc_time Int64,
      total_sync_runstats Int64,
      total_disp_run_queue_time Int64,
      total_peds Int64,
      disabled_peds Int64,
      post_threshold_peds Int64,
      total_peas Int64,
      post_threshold_peas Int64,
      tq_sort_heap_requests Int64,
      tq_sort_heap_rejections Int64,
      pool_queued_async_data_reqs Int64,
      pool_queued_async_index_reqs Int64,
      pool_queued_async_xda_reqs Int64,
      pool_queued_async_temp_data_reqs Int64,
      pool_queued_async_temp_index_reqs Int64,
      pool_queued_async_temp_xda_reqs Int64,
      pool_queued_async_other_reqs Int64,
      pool_queued_async_data_pages Int64,
      pool_queued_async_index_pages Int64,
      pool_queued_async_xda_pages Int64,
      pool_queued_async_temp_data_pages Int64,
      pool_queued_async_temp_index_pages Int64,
      pool_queued_async_temp_xda_pages Int64,
      pool_failed_async_data_reqs Int64,
      pool_failed_async_index_reqs Int64,
      pool_failed_async_xda_reqs Int64,
      pool_failed_async_temp_data_reqs Int64,
      pool_failed_async_temp_index_reqs Int64,
      pool_failed_async_temp_xda_reqs Int64,
      pool_failed_async_other_reqs Int64,
      prefetch_wait_time Int64,
      prefetch_waits Int64,
      app_act_completed_total Int64,
      app_act_aborted_total Int64,
      app_act_rejected_total Int64,
      total_connect_request_time Int64,
      total_connect_request_proc_time Int64,
      total_connect_requests Int64,
      total_connect_authentication_time Int64,
      total_connect_authentication_proc_time Int64,
      total_connect_authentications Int64,
      comm_exit_wait_time Int64,
      comm_exit_waits Int64,
      ida_send_wait_time Int64,
      ida_sends_total Int64,
      ida_send_volume Int64,
      ida_recv_wait_time Int64,
      ida_recvs_total Int64,
      ida_recv_volume Int64,
      uow_client_idle_wait_time Int64,
      rows_deleted Int64,
      rows_inserted Int64,
      rows_updated Int64,
      total_hash_joins Int64,
      total_hash_loops Int64,
      hash_join_overflows Int64,
      hash_join_small_overflows Int64,
      post_shrthreshold_hash_joins Int64,
      total_olap_funcs Int64,
      olap_func_overflows Int64,
      dynamic_sql_stmts Int64,
      static_sql_stmts Int64,
      failed_sql_stmts Int64,
      select_sql_stmts Int64,
      uid_sql_stmts Int64,
      ddl_sql_stmts Int64,
      merge_sql_stmts Int64,
      xquery_stmts Int64,
      implicit_rebinds Int64,
      binds_precompiles Int64,
      int_rows_deleted Int64,
      int_rows_inserted Int64,
      int_rows_updated Int64,
      call_sql_stmts Int64,
      post_threshold_hash_joins Int64,
      total_hash_grpbys Int64,
      hash_grpby_overflows Int64,
      post_threshold_hash_grpbys Int64,
      post_threshold_olap_funcs Int64,
      total_backup_time Int64,
      total_backup_proc_time Int64,
      total_backups Int64,
      total_index_build_time Int64,
      total_index_build_proc_time Int64,
      total_indexes_built Int64,
      fcm_tq_recv_waits_total Int64,
      fcm_message_recv_waits_total Int64,
      fcm_tq_send_waits_total Int64,
      fcm_message_send_waits_total Int64,
      fcm_send_waits_total Int64,
      fcm_recv_waits_total Int64
    ) ENGINE = MergeTree() 
    PARTITION BY (
      mon_instance, 
      toYYYYMMDD(mon_dt)
    )
    PRIMARY KEY (
      mon_instance,
      mon_dt,
      application_name,
      client_wrkstnname,
      client_applname,
      client_protocol,
      system_auth_id,
      session_auth_id,
      client_hostname,
      client_ipaddr,
      is_system_appl,execution_id,
      connection_start_time,
      application_handle,
      application_id,
      client_port_number
    ) 
    ORDER BY (
      mon_instance,
      mon_dt,
      application_name,
      client_wrkstnname,
      client_applname,
      client_protocol, 
      system_auth_id,
      session_auth_id,
      client_hostname, 
      client_ipaddr, 
      is_system_appl, 
      execution_id, 
      connection_start_time, 
      application_handle, 
      application_id,
      client_port_number
    ) 
    SETTINGS index_granularity = 8192

process-table:
  name: db2.db2_connection
  columns:
    - mon_instance
    - mon_dt
    - mon_delta
    - application_name
    - client_wrkstnname
    - client_applname
    - client_protocol
    - system_auth_id
    - session_auth_id
    - client_hostname
    - client_ipaddr
    - is_system_appl
    - execution_id
    - connection_start_time
    - application_handle
    - application_id
    - client_port_number
    - lock_timeout_val
    - num_locks_waiting
    - num_assoc_agents
    - associated_agents_top
    - active_hash_grpbys
    - active_hash_joins
    - active_olap_funcs
    - active_peas
    - active_peds
    - active_sort_consumers
    - active_sorts
    - sort_heap_allocated
    - sort_shrheap_allocated
    - act_aborted_total
    - act_completed_total
    - act_rejected_total
    - agent_wait_time
    - agent_waits_total
    - pool_data_l_reads
    - pool_index_l_reads
    - pool_temp_data_l_reads
    - pool_temp_index_l_reads
    - pool_temp_xda_l_reads
    - pool_xda_l_reads
    - pool_data_p_reads
    - pool_index_p_reads
    - pool_temp_data_p_reads
    - pool_temp_index_p_reads
    - pool_temp_xda_p_reads
    - pool_xda_p_reads
    - pool_data_writes
    - pool_index_writes
    - pool_xda_writes
    - pool_read_time
    - pool_write_time
    - client_idle_wait_time
    - deadlocks
    - direct_reads
    - direct_read_time
    - direct_writes
    - direct_write_time
    - direct_read_reqs
    - direct_write_reqs
    - fcm_recv_volume
    - fcm_recvs_total
    - fcm_send_volume
    - fcm_sends_total
    - fcm_recv_wait_time
    - fcm_send_wait_time
    - ipc_recv_volume
    - ipc_recv_wait_time
    - ipc_recvs_total
    - ipc_send_volume
    - ipc_send_wait_time
    - ipc_sends_total
    - lock_escals
    - lock_timeouts
    - lock_wait_time
    - lock_waits
    - log_buffer_wait_time
    - num_log_buffer_full
    - log_disk_wait_time
    - log_disk_waits_total
    - num_locks_held
    - rqsts_completed_total
    - rows_modified
    - rows_read
    - rows_returned
    - tcpip_recv_volume
    - tcpip_send_volume
    - tcpip_recv_wait_time
    - tcpip_recvs_total
    - tcpip_send_wait_time
    - tcpip_sends_total
    - total_app_rqst_time
    - total_rqst_time
    - wlm_queue_time_total
    - wlm_queue_assignments_total
    - total_cpu_time
    - total_wait_time
    - app_rqsts_completed_total
    - total_section_sort_time
    - total_section_sort_proc_time
    - total_section_sorts
    - total_sorts
    - post_threshold_sorts
    - post_shrthreshold_sorts
    - sort_overflows
    - total_compile_time
    - total_compile_proc_time
    - total_compilations
    - total_implicit_compile_time
    - total_implicit_compile_proc_time
    - total_implicit_compilations
    - total_section_time
    - total_section_proc_time
    - total_app_section_executions
    - total_act_time
    - total_act_wait_time
    - act_rqsts_total
    - total_routine_time
    - total_routine_invocations
    - total_commit_time
    - total_commit_proc_time
    - total_app_commits
    - int_commits
    - total_rollback_time
    - total_rollback_proc_time
    - total_app_rollbacks
    - int_rollbacks
    - total_runstats_time
    - total_runstats_proc_time
    - total_runstats
    - total_reorg_time
    - total_reorg_proc_time
    - total_reorgs
    - total_load_time
    - total_load_proc_time
    - total_loads
    - cat_cache_inserts
    - cat_cache_lookups
    - pkg_cache_inserts
    - pkg_cache_lookups
    - thresh_violations
    - num_lw_thresh_exceeded
    - lock_waits_global
    - lock_wait_time_global
    - lock_timeouts_global
    - lock_escals_maxlocks
    - lock_escals_locklist
    - reclaim_wait_time
    - spacemappage_reclaim_wait_time
    - cf_waits
    - cf_wait_time
    - audit_events_total
    - audit_file_writes_total
    - audit_file_write_wait_time
    - audit_subsystem_waits_total
    - audit_subsystem_wait_time
    - diaglog_writes_total
    - diaglog_write_wait_time
    - fcm_message_recvs_total
    - fcm_message_recv_volume
    - fcm_message_recv_wait_time
    - fcm_message_sends_total
    - fcm_message_send_volume
    - fcm_message_send_wait_time
    - fcm_tq_recvs_total
    - fcm_tq_recv_volume
    - fcm_tq_recv_wait_time
    - fcm_tq_sends_total
    - fcm_tq_send_volume
    - fcm_tq_send_wait_time
    - total_routine_user_code_proc_time
    - total_routine_user_code_time
    - tq_tot_send_spills
    - evmon_wait_time
    - evmon_waits_total
    - total_extended_latch_wait_time
    - total_extended_latch_waits
    - total_stats_fabrication_time
    - total_stats_fabrication_proc_time
    - total_stats_fabrications
    - total_sync_runstats_time
    - total_sync_runstats_proc_time
    - total_sync_runstats
    - total_disp_run_queue_time
    - total_peds
    - disabled_peds
    - post_threshold_peds
    - total_peas
    - post_threshold_peas
    - tq_sort_heap_requests
    - tq_sort_heap_rejections
    - pool_queued_async_data_reqs
    - pool_queued_async_index_reqs
    - pool_queued_async_xda_reqs
    - pool_queued_async_temp_data_reqs
    - pool_queued_async_temp_index_reqs
    - pool_queued_async_temp_xda_reqs
    - pool_queued_async_other_reqs
    - pool_queued_async_data_pages
    - pool_queued_async_index_pages
    - pool_queued_async_xda_pages
    - pool_queued_async_temp_data_pages
    - pool_queued_async_temp_index_pages
    - pool_queued_async_temp_xda_pages
    - pool_failed_async_data_reqs
    - pool_failed_async_index_reqs
    - pool_failed_async_xda_reqs
    - pool_failed_async_temp_data_reqs
    - pool_failed_async_temp_index_reqs
    - pool_failed_async_temp_xda_reqs
    - pool_failed_async_other_reqs
    - prefetch_wait_time
    - prefetch_waits
    - app_act_completed_total
    - app_act_aborted_total
    - app_act_rejected_total
    - total_connect_request_time
    - total_connect_request_proc_time
    - total_connect_requests
    - total_connect_authentication_time
    - total_connect_authentication_proc_time
    - total_connect_authentications
    - comm_exit_wait_time
    - comm_exit_waits
    - ida_send_wait_time
    - ida_sends_total
    - ida_send_volume
    - ida_recv_wait_time
    - ida_recvs_total
    - ida_recv_volume
    - uow_client_idle_wait_time
    - rows_deleted
    - rows_inserted
    - rows_updated
    - total_hash_joins
    - total_hash_loops
    - hash_join_overflows
    - hash_join_small_overflows
    - post_shrthreshold_hash_joins
    - total_olap_funcs
    - olap_func_overflows
    - dynamic_sql_stmts
    - static_sql_stmts
    - failed_sql_stmts
    - select_sql_stmts
    - uid_sql_stmts
    - ddl_sql_stmts
    - merge_sql_stmts
    - xquery_stmts
    - implicit_rebinds
    - binds_precompiles
    - int_rows_deleted
    - int_rows_inserted
    - int_rows_updated
    - call_sql_stmts
    - post_threshold_hash_joins
    - total_hash_grpbys
    - hash_grpby_overflows
    - post_threshold_hash_grpbys
    - post_threshold_olap_funcs
    - total_backup_time
    - total_backup_proc_time
    - total_backups
    - total_index_build_time
    - total_index_build_proc_time
    - total_indexes_built
    - fcm_tq_recv_waits_total
    - fcm_message_recv_waits_total
    - fcm_tq_send_waits_total
    - fcm_message_send_waits_total
    - fcm_send_waits_total
    - fcm_recv_waits_total

process-sql:

fetch-sql: |-
  select 1 from abc.process_output
